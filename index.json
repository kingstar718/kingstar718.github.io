[{"content":"Intro We\u0026rsquo;ll be using yml/yaml format for all examples down below, I recommend using yml over toml as it is easier to read. You can find any YML to TOML converters if necessary. Guide Follow Quick Start guide to setup and create a new site.\nNote: Use -f to select yml format\nhugo new site \u0026lt;name of site\u0026gt; -f yml\nMake sure you install latest version of hugo(\u0026gt;=0.83.0).\nAfter you have created a new site, at Step 3 follow the steps:\nMethod 1 Inside the folder of your Hugo site, run:\ngit clone https://github.com/adityatelange/hugo-PaperMod themes/PaperMod --depth=1 Note: You may use --branch v5.0 to end of above command if you want to stick to specific release.\nUpdating theme :\ncd themes/PaperMod git pull Method 2 you can use as submodule with\ngit submodule add --depth=1 https://github.com/adityatelange/hugo-PaperMod.git themes/PaperMod git submodule update --init --recursive # needed when you reclone your repo (submodules may not get cloned automatically) Note: You may use --branch v5.0 to end of above command if you want to stick to specific release.\nUpdating theme :\ngit submodule update --remote --merge Method 3 Or you can Download as Zip from Github Page and extract in your themes directory\nDirect Links:\nMaster Branch (Latest) v6.0 v5.0 v4.0 v3.0 v2.0 v1.0 Method 4 Install Go programming language in your operating system.\nIntialize your own hugo mod\nhugo mod init YOUR_OWN_GIT_REPOSITORY Add PaperMod in your config.yml file module: imports: - path: github.com/adityatelange/hugo-PaperMod Update theme hugo mod get -u Finally \u0026hellip; Add in config.yml:\ntheme: \u0026#34;PaperMod\u0026#34; Videos featuring Papermod You can go through few videos which are available on YouTube for getting to know the creator\u0026rsquo;s thoughts as well as the setup process.\n▶️ https://youtube.com/playlist?list=PLeiDFxcsdhUrzkK5Jg9IZyiTsIMvXxKZP\nQuick Links Papermod - Features Papermod - FAQs Papermod - Variables Papermod - Icons ChangeLog Sample config.yml Example Site Structure is present here: exampleSite\nUse appropriately\nbaseURL: \u0026#34;https://examplesite.com/\u0026#34; title: ExampleSite paginate: 5 theme: PaperMod enableRobotsTXT: true buildDrafts: false buildFuture: false buildExpired: false googleAnalytics: UA-123-45 minify: disableXML: true minifyOutput: true params: env: production # to enable google analytics, opengraph, twitter-cards and schema. title: ExampleSite description: \u0026#34;ExampleSite description\u0026#34; keywords: [Blog, Portfolio, PaperMod] author: Me # author: [\u0026#34;Me\u0026#34;, \u0026#34;You\u0026#34;] # multiple authors images: [\u0026#34;\u0026lt;link or path of image for opengraph, twitter-cards\u0026gt;\u0026#34;] DateFormat: \u0026#34;January 2, 2006\u0026#34; defaultTheme: auto # dark, light disableThemeToggle: false ShowReadingTime: true ShowShareButtons: true ShowPostNavLinks: true ShowBreadCrumbs: true ShowCodeCopyButtons: false ShowWordCount: true ShowRssButtonInSectionTermList: true UseHugoToc: true disableSpecial1stPost: false disableScrollToTop: false comments: false hidemeta: false hideSummary: false showtoc: false tocopen: false assets: # disableHLJS: true # to disable highlight.js # disableFingerprinting: true favicon: \u0026#34;\u0026lt;link / abs url\u0026gt;\u0026#34; favicon16x16: \u0026#34;\u0026lt;link / abs url\u0026gt;\u0026#34; favicon32x32: \u0026#34;\u0026lt;link / abs url\u0026gt;\u0026#34; apple_touch_icon: \u0026#34;\u0026lt;link / abs url\u0026gt;\u0026#34; safari_pinned_tab: \u0026#34;\u0026lt;link / abs url\u0026gt;\u0026#34; label: text: \u0026#34;Home\u0026#34; icon: /apple-touch-icon.png iconHeight: 35 # profile-mode profileMode: enabled: false # needs to be explicitly set title: ExampleSite subtitle: \u0026#34;This is subtitle\u0026#34; imageUrl: \u0026#34;\u0026lt;img location\u0026gt;\u0026#34; imageWidth: 120 imageHeight: 120 imageTitle: my image buttons: - name: Posts url: posts - name: Tags url: tags # home-info mode homeInfoParams: Title: \u0026#34;Hi there \\U0001F44B\u0026#34; Content: Welcome to my blog socialIcons: - name: twitter url: \u0026#34;https://twitter.com/\u0026#34; - name: stackoverflow url: \u0026#34;https://stackoverflow.com\u0026#34; - name: github url: \u0026#34;https://github.com/\u0026#34; analytics: google: SiteVerificationTag: \u0026#34;XYZabc\u0026#34; bing: SiteVerificationTag: \u0026#34;XYZabc\u0026#34; yandex: SiteVerificationTag: \u0026#34;XYZabc\u0026#34; cover: hidden: true # hide everywhere but not in structured data hiddenInList: true # hide on list pages and home hiddenInSingle: true # hide on single page editPost: URL: \u0026#34;https://github.com/\u0026lt;path_to_repo\u0026gt;/content\u0026#34; Text: \u0026#34;Suggest Changes\u0026#34; # edit text appendFilePath: true # to append file path to Edit link # for search # https://fusejs.io/api/options.html fuseOpts: isCaseSensitive: false shouldSort: true location: 0 distance: 1000 threshold: 0.4 minMatchCharLength: 0 limit: 10 # refer: https://www.fusejs.io/api/methods.html#search keys: [\u0026#34;title\u0026#34;, \u0026#34;permalink\u0026#34;, \u0026#34;summary\u0026#34;, \u0026#34;content\u0026#34;] menu: main: - identifier: categories name: categories url: /categories/ weight: 10 - identifier: tags name: tags url: /tags/ weight: 20 - identifier: example name: example.org url: https://example.org weight: 30 # Read: https://github.com/adityatelange/hugo-PaperMod/wiki/FAQs#using-hugos-syntax-highlighter-chroma pygmentsUseClasses: true markup: highlight: noClasses: false # anchorLineNos: true # codeFences: true # guessSyntax: true # lineNos: true # style: monokai Sample Page.md --- title: \u0026#34;My 1st post\u0026#34; date: 2020-09-15T11:30:03+00:00 # weight: 1 # aliases: [\u0026#34;/first\u0026#34;] tags: [\u0026#34;first\u0026#34;] author: \u0026#34;Me\u0026#34; # author: [\u0026#34;Me\u0026#34;, \u0026#34;You\u0026#34;] # multiple authors showToc: true TocOpen: false draft: false hidemeta: false comments: false description: \u0026#34;Desc Text.\u0026#34; canonicalURL: \u0026#34;https://canonical.url/to/page\u0026#34; disableHLJS: true # to disable highlightjs disableShare: false disableHLJS: false hideSummary: false searchHidden: true ShowReadingTime: true ShowBreadCrumbs: true ShowPostNavLinks: true ShowWordCount: true ShowRssButtonInSectionTermList: true UseHugoToc: true cover: image: \u0026#34;\u0026lt;image path/url\u0026gt;\u0026#34; # image path/url alt: \u0026#34;\u0026lt;alt text\u0026gt;\u0026#34; # alt text caption: \u0026#34;\u0026lt;text\u0026gt;\u0026#34; # display caption under cover relative: false # when using page bundles set this to true hidden: true # only hide on current single page editPost: URL: \u0026#34;https://github.com/\u0026lt;path_to_repo\u0026gt;/content\u0026#34; Text: \u0026#34;Suggest Changes\u0026#34; # edit text appendFilePath: true # to append file path to Edit link --- You can use it by creating archetypes/post.md\nhugo new --kind post \u0026lt;name\u0026gt; ","permalink":"https://kingstar718.github.io/posts/papermod/papermod-installation/","summary":"Read Install and Update instructions here","title":"Installation | Update"},{"content":"Intro We\u0026rsquo;ll be using yml/yaml format for all examples down below, I recommend using yml over toml as it is easier to read.\nYou can find any YML to TOML converters if necessary.\nAssets (js/css) The following is enabled by default\nminification - makes the assets size smallest as possible. bundling - bundles all the styles in one single asset fingerprint/intergity check. Default Theme light/dark/auto params: # defaultTheme: light # defaultTheme: dark defaultTheme: auto # to switch between dark or light according to browser theme Theme Switch Toggle (enabled by default) Shows icon besides title of page to change theme\nTo disable it :\ndisableThemeToggle: true You can refer following table for better understanding\u0026hellip;\ndefaultTheme disableThemeToggle checks local storage? checks system theme? Info auto true No Yes only system theme false Yes (if not-\u0026gt;2) Yes (2) switch present dark true No No force dark only false Yes No switch present light true No No force light only false Yes No switch present Archives Layout Create a page with archive.md in content directory with following content\n. ├── config.yml ├── content/ │ ├── archives.md \u0026lt;--- Create archive.md here │ └── posts/ ├── static/ └── themes/ └── PaperMod/ and add the following to it\n--- title: \u0026#34;Archive\u0026#34; layout: \u0026#34;archives\u0026#34; url: \u0026#34;/archives/\u0026#34; summary: archives --- Note: Archives Layout does not support Multilingual Month Translations.\nex: archives.md\nRegular Mode (default-mode) Home-Info Mode Use 1st entry as some Information\nadd following to config file\nparams: homeInfoParams: Title: Hi there wave Content: Can be Info, links, about... socialIcons: # optional - name: \u0026#34;\u0026lt;platform\u0026gt;\u0026#34; url: \u0026#34;\u0026lt;link\u0026gt;\u0026#34; - name: \u0026#34;\u0026lt;platform 2\u0026gt;\u0026#34; url: \u0026#34;\u0026lt;link2\u0026gt;\u0026#34; Profile Mode Shows Index/Home page as Full Page with Social Links and Image\nadd following to config file\nparams: profileMode: enabled: true title: \u0026#34;\u0026lt;Title\u0026gt;\u0026#34; # optional default will be site title subtitle: \u0026#34;This is subtitle\u0026#34; imageUrl: \u0026#34;\u0026lt;image link\u0026gt;\u0026#34; # optional imageTitle: \u0026#34;\u0026lt;title of image as alt\u0026gt;\u0026#34; # optional imageWidth: 120 # custom size imageHeight: 120 # custom size buttons: - name: Archive url: \u0026#34;/archive\u0026#34; - name: Github url: \u0026#34;https://github.com/\u0026#34; socialIcons: # optional - name: \u0026#34;\u0026lt;platform\u0026gt;\u0026#34; url: \u0026#34;\u0026lt;link\u0026gt;\u0026#34; - name: \u0026#34;\u0026lt;platform 2\u0026gt;\u0026#34; url: \u0026#34;\u0026lt;link2\u0026gt;\u0026#34; Search Page PaperMod uses Fuse.js Basic for search functionality\nAdd the following to site config, config.yml\noutputs: home: - HTML - RSS - JSON # is necessary Create a page with search.md in content directory with following content\n--- title: \u0026#34;Search\u0026#34; # in any language you want layout: \u0026#34;search\u0026#34; # is necessary # url: \u0026#34;/archive\u0026#34; # description: \u0026#34;Description for Search\u0026#34; summary: \u0026#34;search\u0026#34; placeholder: \u0026#34;placeholder text in search input box\u0026#34; --- To hide a particular page from being searched, add it in post\u0026rsquo;s frontmatter\n--- searchHidden: true ex: search.md\nSearch Page also has Key bindings:\nArrow keys to move up/down the list Enter key (return) or Right Arrow key to go to the highlighted page Escape key to clear searchbox and results For Multilingual use search.\u0026lt;lang\u0026gt;.md ex. search.es.md.\nNote: Search will work only on current language, user is currently on !\nCustomizing Fusejs Options\nRefer https://fusejs.io/api/options.html for Options, Add those as shown below.\nparams: fuseOpts: isCaseSensitive: false shouldSort: true location: 0 distance: 1000 threshold: 0.4 minMatchCharLength: 0 # limit: 10 # refer: https://www.fusejs.io/api/methods.html#search keys: [\u0026#34;title\u0026#34;, \u0026#34;permalink\u0026#34;, \u0026#34;summary\u0026#34;, \u0026#34;content\u0026#34;] Draft Page indication adds [draft] mark to indicate draft pages.\nPost Cover Image In post\u0026rsquo;s page-variables add :\ncover: image: \u0026#34;\u0026lt;image path/url\u0026gt;\u0026#34; # can also paste direct link from external site # ex. https://i.ibb.co/K0HVPBd/paper-mod-profilemode.png alt: \u0026#34;\u0026lt;alt text\u0026gt;\u0026#34; caption: \u0026#34;\u0026lt;text\u0026gt;\u0026#34; relative: false # To use relative path for cover image, used in hugo Page-bundles When you include images in the Page Bundle, multiple sizes of the image will automatically be provided using the HTML5 srcset field.\nTo reduce generation time and size of the site, you can disable this feature using\nparams: cover: responsiveImages: false To enable hyperlinks to the full image size on post pages, use\nparams: cover: linkFullImages: true Share Buttons on post Displays Share Buttons at Bottom of each post\nto show share buttons add\nparams: ShowShareButtons: true Show post reading time Displays Reading Time (the estimated time, in minutes, it takes to read the content.)\nTo show reading time add\nParams: ShowReadingTime: true Show Table of Contents (Toc) on blog post Displays ToC on blog-pages\nTo show ToC add following to page-variables\nShowToc: true To keep Toc Open by default on a post add following to page-variables:\nTocOpen: true BreadCrumb Navigation Adds BreadCrumb Navigation above Post\u0026rsquo;s Title to show subsections and Navigation to Home\nparams: ShowBreadCrumbs: true Can be diabled for particular page\u0026rsquo;s front-matter\n--- ShowBreadCrumbs: false --- Edit Link for Posts Add a button to suggest changes by using the file path of the post to link to a edit destination.\nFor site config use:\nParams: editPost: URL: \u0026#34;https://github.com/\u0026lt;path_to_repo\u0026gt;/content\u0026#34; Text: \u0026#34;Suggest Changes\u0026#34; # edit text appendFilePath: true # to append file path to Edit link Can be modified for individual pages\n--- editPost: URL: \u0026#34;https://github.com/\u0026lt;path_to_repo\u0026gt;/content\u0026#34; Text: \u0026#34;Suggest Changes\u0026#34; # edit text appendFilePath: true # to append file path to Edit link --- The example above would yield the following link for the post file posts/post-name.md: https://github.com/\u0026lt;path_to_repo\u0026gt;/content/posts/post-name.md\nParameter Required Default Value editPost.URL true - editPost.appendFilePath false false editPost.Text false \u0026ldquo;Edit\u0026rdquo; Since the link generated is a regular HTML anchor tag \u0026lt;a href=...\u0026gt;, you can also use other URL schemas like mailto://, e.g. URL: \u0026quot;mailto://mail@example.com?subject=Suggesting changes for \u0026quot;\nOther Posts suggestion below a post Adds a Previous / Next post suggestion under a single post\nparams: ShowPostNavLinks: true Code Copy Button Adds a copy button in code block to copy the code it contains\nparams: ShowCodeCopyButtons: true Multiple Authors To Use multiple authors for a post, in post-variables:\n--- author: [\u0026#34;Me\u0026#34;, \u0026#34;You\u0026#34;] --- To use Multiple Authors Site-wide, in config.yml:\nparams: author: [\u0026#34;Me\u0026#34;, \u0026#34;You\u0026#34;] Comments to add comments, create a html file\nlayouts/partials/comments.html\nand paste code provided by your comments provider\nalso in config add this\nparams: comments: true read more about this hugo-comments\nAccessKeys c - ToC Open/Close g - Go To Top h - Home (according to current lang) t - Theme toggle / - Jumps to search page if in menu What\u0026rsquo;s AccessKeys ?\nEnhanced SEO Enabled only when env: production\nRich Results/Snippets Support Twitter Cards Support The Twitter Cards metadata, except twitter:image should not require additional configuration, since it is generated from metadata that you should already have (for instance the page title and description). The twitter:image uses the Post Cover Image, if present. In the absence of a cover images, the first image from the images frontmatter (a list) is used. images: - image_01.png - image_02.png Finally, if neither of those are provided, twitter:image comes from the first Page Bundle image with feature in the name, with a fallback to the first image with cover or thumbnail in the name. OpenGraph support The OpenGraph metadata, except og:image should not require additional configuration, since it is generated from metadata that you should already have (for instance the page title and description). The og:image uses the Post Cover Image, if present. In the absence of a cover images, the first image from the images frontmatter (a list) is used. images: - image_01.png - image_02.png Finally, if neither of those are provided, og:image comes from the first Page Bundle image with feature in the name, with a fallback to the first image with cover or thumbnail in the name. For pages, you can also add audio (using frontmatter audio: filename.ext) and/or videos. videos: - filename01.mov - filename02.avi Multilingual Support Misc Scroll-Bar themed (by default) Smooth Scroll between in-page links (by default) Scroll-to-Top Button (by default) Displays a Scroll-to-Top button in right-bottom corner Google Analytics integration Syntax highlighting RSS feeds ","permalink":"https://kingstar718.github.io/posts/papermod/papermod-features/","summary":"Learn About All Features in PaperMod","title":"Features"},{"content":"This article offers a sample of basic Markdown syntax that can be used in Hugo content files, also it shows whether basic HTML elements are decorated with CSS in a Hugo theme.\nHeadings The following HTML \u0026lt;h1\u0026gt;—\u0026lt;h6\u0026gt; elements represent six levels of section headings. \u0026lt;h1\u0026gt; is the highest section level while \u0026lt;h6\u0026gt; is the lowest.\nH1 H2 H3 H4 H5 H6 Paragraph Xerum, quo qui aut unt expliquam qui dolut labo. Aque venitatiusda cum, voluptionse latur sitiae dolessi aut parist aut dollo enim qui voluptate ma dolestendit peritin re plis aut quas inctum laceat est volestemque commosa as cus endigna tectur, offic to cor sequas etum rerum idem sintibus eiur? Quianimin porecus evelectur, cum que nis nust voloribus ratem aut omnimi, sitatur? Quiatem. Nam, omnis sum am facea corem alique molestrunt et eos evelece arcillit ut aut eos eos nus, sin conecerem erum fuga. Ri oditatquam, ad quibus unda veliamenimin cusam et facea ipsamus es exerum sitate dolores editium rerore eost, temped molorro ratiae volorro te reribus dolorer sperchicium faceata tiustia prat.\nItatur? Quiatae cullecum rem ent aut odis in re eossequodi nonsequ idebis ne sapicia is sinveli squiatum, core et que aut hariosam ex eat.\nBlockquotes The blockquote element represents content that is quoted from another source, optionally with a citation which must be within a footer or cite element, and optionally with in-line changes such as annotations and abbreviations.\nBlockquote without attribution Tiam, ad mint andaepu dandae nostion secatur sequo quae. Note that you can use Markdown syntax within a blockquote.\nBlockquote with attribution Don\u0026rsquo;t communicate by sharing memory, share memory by communicating.\n— Rob Pike1\nTables Tables aren\u0026rsquo;t part of the core Markdown spec, but Hugo supports them out-of-the-box.\nName Age Bob 27 Alice 23 Inline Markdown within tables Italics Bold Code italics bold code Code Blocks Inline Code This is Inline Code\nOnly pre This is pre text Code block with backticks \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;utf-8\u0026#34; /\u0026gt; \u0026lt;title\u0026gt;Example HTML5 Document\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;p\u0026gt;Test\u0026lt;/p\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; Code block with backticks and language specified 1 2 3 4 5 6 7 8 9 10 11 \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;utf-8\u0026#34; /\u0026gt; \u0026lt;title\u0026gt;Example HTML5 Document\u0026lt;/title\u0026gt; \u0026lt;meta name=\u0026#34;description\u0026#34; content=\u0026#34;Sample article showcasing basic Markdown syntax and formatting for HTML elements.\u0026#34;\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;p\u0026gt;Test\u0026lt;/p\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; Code block indented with four spaces \u0026lt;!doctype html\u0026gt; \u0026lt;html lang=\u0026quot;en\u0026quot;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026quot;utf-8\u0026quot;\u0026gt; \u0026lt;title\u0026gt;Example HTML5 Document\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;p\u0026gt;Test\u0026lt;/p\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; Code block with Hugo\u0026rsquo;s internal highlight shortcode \u0026lt;!doctype html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;utf-8\u0026#34;\u0026gt; \u0026lt;title\u0026gt;Example HTML5 Document\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;p\u0026gt;Test\u0026lt;/p\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; Gist List Types Ordered List First item Second item Third item Unordered List List item Another item And another item Nested list Fruit Apple Orange Banana Dairy Milk Cheese Other Elements — abbr, sub, sup, kbd, mark GIF is a bitmap image format.\nH2O\nXn + Yn = Zn\nPress CTRL+ALT+Delete to end the session.\nMost salamanders are nocturnal, and hunt for insects, worms, and other small creatures.\nThe above quote is excerpted from Rob Pike\u0026rsquo;s talk during Gopherfest, November 18, 2015.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","permalink":"https://kingstar718.github.io/posts/markdown-syntax.fr/","summary":"\u003cp\u003eThis article offers a sample of basic Markdown syntax that can be used in Hugo content files, also it shows whether basic HTML elements are decorated with CSS in a Hugo theme.\u003c/p\u003e","title":"Markdown Syntax Guide For L2"},{"content":"This article offers a sample of basic Markdown syntax that can be used in Hugo content files, also it shows whether basic HTML elements are decorated with CSS in a Hugo theme.\nHeadings The following HTML \u0026lt;h1\u0026gt;—\u0026lt;h6\u0026gt; elements represent six levels of section headings. \u0026lt;h1\u0026gt; is the highest section level while \u0026lt;h6\u0026gt; is the lowest.\nH1 H2 H3 H4 H5 H6 Paragraph Xerum, quo qui aut unt expliquam qui dolut labo. Aque venitatiusda cum, voluptionse latur sitiae dolessi aut parist aut dollo enim qui voluptate ma dolestendit peritin re plis aut quas inctum laceat est volestemque commosa as cus endigna tectur, offic to cor sequas etum rerum idem sintibus eiur? Quianimin porecus evelectur, cum que nis nust voloribus ratem aut omnimi, sitatur? Quiatem. Nam, omnis sum am facea corem alique molestrunt et eos evelece arcillit ut aut eos eos nus, sin conecerem erum fuga. Ri oditatquam, ad quibus unda veliamenimin cusam et facea ipsamus es exerum sitate dolores editium rerore eost, temped molorro ratiae volorro te reribus dolorer sperchicium faceata tiustia prat.\nItatur? Quiatae cullecum rem ent aut odis in re eossequodi nonsequ idebis ne sapicia is sinveli squiatum, core et que aut hariosam ex eat.\nBlockquotes The blockquote element represents content that is quoted from another source, optionally with a citation which must be within a footer or cite element, and optionally with in-line changes such as annotations and abbreviations.\nBlockquote without attribution Tiam, ad mint andaepu dandae nostion secatur sequo quae. Note that you can use Markdown syntax within a blockquote.\nBlockquote with attribution Don\u0026rsquo;t communicate by sharing memory, share memory by communicating.\n— Rob Pike1\nTables Tables aren\u0026rsquo;t part of the core Markdown spec, but Hugo supports them out-of-the-box.\nName Age Bob 27 Alice 23 Inline Markdown within tables Italics Bold Code italics bold code Code Blocks Inline Code This is Inline Code\nOnly pre This is pre text Code block with backticks \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;utf-8\u0026#34; /\u0026gt; \u0026lt;title\u0026gt;Example HTML5 Document\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;p\u0026gt;Test\u0026lt;/p\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; Code block with backticks and language specified 1 2 3 4 5 6 7 8 9 10 11 \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;utf-8\u0026#34; /\u0026gt; \u0026lt;title\u0026gt;Example HTML5 Document\u0026lt;/title\u0026gt; \u0026lt;meta name=\u0026#34;description\u0026#34; content=\u0026#34;Sample article showcasing basic Markdown syntax and formatting for HTML elements.\u0026#34;\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;p\u0026gt;Test\u0026lt;/p\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; Code block indented with four spaces \u0026lt;!doctype html\u0026gt; \u0026lt;html lang=\u0026quot;en\u0026quot;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026quot;utf-8\u0026quot;\u0026gt; \u0026lt;title\u0026gt;Example HTML5 Document\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;p\u0026gt;Test\u0026lt;/p\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; Code block with Hugo\u0026rsquo;s internal highlight shortcode \u0026lt;!doctype html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;utf-8\u0026#34;\u0026gt; \u0026lt;title\u0026gt;Example HTML5 Document\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;p\u0026gt;Test\u0026lt;/p\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; Gist List Types Ordered List First item Second item Third item Unordered List List item Another item And another item Nested list Fruit Apple Orange Banana Dairy Milk Cheese Other Elements — abbr, sub, sup, kbd, mark GIF is a bitmap image format.\nH2O\nXn + Yn = Zn\nPress CTRL+ALT+Delete to end the session.\nMost salamanders are nocturnal, and hunt for insects, worms, and other small creatures.\nThe above quote is excerpted from Rob Pike\u0026rsquo;s talk during Gopherfest, November 18, 2015.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","permalink":"https://kingstar718.github.io/posts/markdown-syntax.fa/","summary":"\u003cp\u003eThis article offers a sample of basic Markdown syntax that can be used in Hugo content files, also it shows whether basic HTML elements are decorated with CSS in a Hugo theme.\u003c/p\u003e","title":"Markdown Syntax Guide For RTL"},{"content":"In this essay, we will talk about how to add a picture in blog.\nThere are many ways to add a picture, the one to use pure markdown syntax is ![](./path/to/picture).\nNow I will show you a BIG picture (3600x2180):\nAnd a small picture (30x20):\nHere is a inline markdown mark .\nSome other things Note that due to the big picture is from Wikipedia who use CC-BY-SA 3.0 as license, so this essay also use [CC-BY-SA 3.0] as license.\nThe big picture is from https://en.wikipedia.org/wiki/Image.\nThe small markdown mark has been dedicated to the public domain.\n","permalink":"https://kingstar718.github.io/essays/add-picture-in-post/","summary":"\u003cp\u003eIn this essay, we will talk about how to add a picture in blog.\u003c/p\u003e","title":"Add Picture In Blog"},{"content":"This article contians some test for latex support. Currently the lib used for rendering LaTeX is \\(\\KaTeX\\)\n$$ \\pi=\\int_{-\\infty}^\\infty\\frac{dx}{1+x^2} $$\nThe code which render the above This article contians some test for latex support. Currently the lib used for rendering LaTeX is [\\\\(\\KaTeX\\\\)](https://katex.org/) $$ \\pi=\\int_{-\\infty}^\\infty\\frac{dx}{1+x^2} $$ ","permalink":"https://kingstar718.github.io/posts/latex-support/","summary":"\u003cp\u003eThis article contians some test for latex support. Currently the lib used for rendering LaTeX is \u003ca href=\"https://katex.org/\"\u003e\\(\\KaTeX\\)\u003c/a\u003e\u003c/p\u003e","title":"Latex Support"},{"content":"前言 ElasticSearch支持地理空间数据查询、搜索，提供 geo_point、geo_shape两种地理数据类型。\ngeo_point用于描述一个或多个地理坐标点，主要用于周边位置查询、边界内搜索点、聚合多个范围内的点等功能。\ngeo_shape用于描述点线面等多种地理数据，使用GeoJson标准格式描述，可以对这些地理数据做相交、不相交、包含等等地理关系的判断与计算。\n新增索引 PUT /my_locations { \u0026#34;mappings\u0026#34;: { \u0026#34;properties\u0026#34;: { \u0026#34;name\u0026#34;: { \u0026#34;type\u0026#34;: \u0026#34;text\u0026#34; } } } } PUT后边紧跟的就是需要创建的索引名：my_locations。mappings中设置了一个属性 name，为 text类型。\n更新geo类型的mappings 新增两个字段，location字段类型为 geo_point，polygon字段类型为 geo_shape。\nPUT后边紧跟索引名 my_locations，加 _mapping表示在操作mappings。\nPUT /my_locations/_mapping { \u0026#34;properties\u0026#34;: { \u0026#34;name\u0026#34;: { \u0026#34;type\u0026#34;: \u0026#34;text\u0026#34; }, \u0026#34;location\u0026#34;: { \u0026#34;type\u0026#34;: \u0026#34;geo_point\u0026#34; }, \u0026#34;polygon\u0026#34;: { \u0026#34;type\u0026#34;: \u0026#34;geo_shape\u0026#34; } } } 查询修改后的索引 GET my_locations/_mapping { \u0026#34;my_locations\u0026#34;: \u0026#34;mappings\u0026#34;: \u0026#34;properties\u0026#34;: \u0026#34;location\u0026#34;: \u0026#34;type\u0026#34;: \u0026#34;geo_point\u0026#34; }, \u0026#34;name\u0026#34;: \u0026#34;type\u0026#34;: \u0026#34;text\u0026#34; }, \u0026#34;polygon\u0026#34;: \u0026#34;type\u0026#34;: \u0026#34;geo_shape\u0026#34; } } } } } 注意不要在请求体里的 body里填 {}，会报错。\n新增geo数据 固有格式就是 /索引名/_doc/id，表示添加数据。geo_point支持普通经纬度数组、WKT、geohash格式的地理数据。\n三种类型的经纬度格式都是经度在前，纬度在后。\n新增经纬度数组类型的地理坐标点数据：\nPOST /my_locations/_doc/1 { \u0026#34;name\u0026#34;: \u0026#34;喜茶\u0026#34;, \u0026#34;location\u0026#34;: [ 113.947539, 22.530122 ] } 新增 WKT类型的地理坐标点数据：\nPOST my_locations/_doc/2 { \u0026#34;name\u0026#34;: \u0026#34;喜茶2\u0026#34;, \u0026#34;location\u0026#34;: \u0026#34;POINT(113.947539 22.530122)\u0026#34; } 新增 geohash类型的地理坐标点数据：\nPOST my_locations/_doc/3 { \u0026#34;name\u0026#34;: \u0026#34;喜茶geohash\u0026#34;, \u0026#34;location\u0026#34;: \u0026#34;ws100vqp6p\u0026#34; } 新增另一个地点\nPOST my_locations/_doc/4\n{ \u0026#34;name\u0026#34;: \u0026#34;平安银行\u0026#34;, \u0026#34;location\u0026#34;: [ 113.945805, 22.530055 ] } 距离查询 传入一个坐标原点和相应的距离范围，来搜索范围内是否存在坐标点：\nGET my_locations/_search { \u0026#34;query\u0026#34;: { \u0026#34;bool\u0026#34;: { \u0026#34;must\u0026#34;: { \u0026#34;match_all\u0026#34;: {} }, \u0026#34;filter\u0026#34;: { \u0026#34;geo_distance\u0026#34;: { \u0026#34;distance\u0026#34;: \u0026#34;500m\u0026#34;, \u0026#34;location\u0026#34;: [ 113.948769,22.530063 ] } } } } } 其中距离单位参考：https://www.elastic.co/guide/en/elasticsearch/reference/current/api-conventions.html#distance-units 常见的公里为 km，米为 m，默认是米。\n聚合查询 定义一个原点和一组距离范围桶，聚合评估每个文档值与原点的距离。\nGET my_locations/_search?size=0\u0026amp;filter_path=aggregations { \u0026#34;aggs\u0026#34;: { \u0026#34;data_around_city\u0026#34;: { \u0026#34;geo_distance\u0026#34;: { \u0026#34;unit\u0026#34;: \u0026#34;m\u0026#34;, \u0026#34;field\u0026#34;: \u0026#34;location\u0026#34;, \u0026#34;origin\u0026#34;: \u0026#34;113.94823,22.530143\u0026#34;, \u0026#34;ranges\u0026#34;: [ { \u0026#34;to\u0026#34;: 100 }, { \u0026#34;from\u0026#34;: 100, \u0026#34;to\u0026#34;: 300 }, { \u0026#34;from\u0026#34;: 600, \u0026#34;to\u0026#34;: 1000 }, { \u0026#34;from\u0026#34;: 1000 } ] } } } } 地理多边形内的点 传入一个多边形来判断多边形范围内是否有坐标点，使用 within方法表示内部。\nGET my_locations/_search { \u0026#34;query\u0026#34;: { \u0026#34;bool\u0026#34;: { \u0026#34;must\u0026#34;: { \u0026#34;match_all\u0026#34;: {} }, \u0026#34;filter\u0026#34;: { \u0026#34;geo_shape\u0026#34;: { \u0026#34;location\u0026#34;: { \u0026#34;shape\u0026#34;: { \u0026#34;type\u0026#34;: \u0026#34;polygon\u0026#34;, \u0026#34;relation\u0026#34;: \u0026#34;within\u0026#34;, \u0026#34;coordinates\u0026#34;: [ [ [ 113.942373, 22.531399 ], [ 113.955111, 22.531432 ], [ 113.953261, 22.524538 ], [ 113.940451, 22.525991 ] ] ] } } } } } } } 新增面数据 es支持的另一种地理类型字段为 geo_shape，包括点、线、多线、面、多面等常见地理类型数据。支持 GeoJson和 WKT两种标准的地理数据格式。\n为第一个喜茶新增多边形的 GeoJson数据：\nPOST my_locations/_doc/1 { \u0026#34;name\u0026#34;: \u0026#34;喜茶\u0026#34;, \u0026#34;location\u0026#34;: [ 113.947539, 22.530122 ], \u0026#34;polygon\u0026#34;: { \u0026#34;type\u0026#34;: \u0026#34;envelope\u0026#34;, \u0026#34;coordinates\u0026#34;: [ [ 113.947248, 22.530295 ], [ 113.94776, 22.529753 ] ] } } 为第二个喜茶新增 WKT数据\nPOST my_locations/_doc/2 { \u0026#34;name\u0026#34;: \u0026#34;喜茶2\u0026#34;, \u0026#34;location\u0026#34;: \u0026#34;POINT(113.947539 22.530122)\u0026#34;, \u0026#34;polygon\u0026#34;: \u0026#34;POLYGON ((113.947305 22.530055, 113.947682 22.530047, 113.947718 22.529788, 113.947341 22.529842, 113.947305 22.530055)) \u0026#34; } 通过点判断落面 判断传入的点落在是否被包含(contains)在相应的多边形内：\nGET my_locations/_search { \u0026#34;query\u0026#34;: { \u0026#34;bool\u0026#34;: { \u0026#34;must\u0026#34;: { \u0026#34;match_all\u0026#34;: {} }, \u0026#34;filter\u0026#34;: { \u0026#34;geo_shape\u0026#34;: { \u0026#34;polygon\u0026#34;: { \u0026#34;shape\u0026#34;: { \u0026#34;type\u0026#34;: \u0026#34;point\u0026#34;, \u0026#34;coordinates\u0026#34;: [ 113.947305, 22.530055 ] }, \u0026#34;relation\u0026#34;: \u0026#34;contains\u0026#34; } } } } } } 判断面相交 GET my_locations/_search { \u0026#34;query\u0026#34;: { \u0026#34;bool\u0026#34;: { \u0026#34;must\u0026#34;: { \u0026#34;match_all\u0026#34;: {} }, \u0026#34;filter\u0026#34;: { \u0026#34;geo_shape\u0026#34;: { \u0026#34;polygon\u0026#34;: { \u0026#34;shape\u0026#34;: { \u0026#34;type\u0026#34;: \u0026#34;polygon\u0026#34;, \u0026#34;relation\u0026#34;: \u0026#34;intersects\u0026#34;, \u0026#34;coordinates\u0026#34;: [ [ [ 113.947522, 22.530091 ], [ 113.948169, 22.529966 ], [ 113.948187, 22.529695 ], [ 113.94754, 22.529707 ] ] ] } } } } } } } 参考 Elasticsearch：Geo Point 和 Geo Shape 查询解释 Elasticsearch地理空间之geo_shape ES地理范围查询第一讲：Java操作地理位置信息（geo_point） Elasticsearch 之（53） Java API 基于geo_shape根据坐标查找 坐标落在店铺范围的店铺 Geo queries 百度地图坐标拾取系统 在线经纬度转geohash # 百度地图 geohash 可视化工具 ","permalink":"https://kingstar718.github.io/posts/elasticsearch-java-api-rest-geo/","summary":"前言 ElasticSearch支持地理空间数据查询、搜索，提供 geo_point、geo_shape两种地理数据类型。\ngeo_point用于描述一个或多个地理坐标点，主要用于周边位置查询、边界内搜索点、聚合多个范围内的点等功能。\ngeo_shape用于描述点线面等多种地理数据，使用GeoJson标准格式描述，可以对这些地理数据做相交、不相交、包含等等地理关系的判断与计算。\n新增索引 PUT /my_locations { \u0026#34;mappings\u0026#34;: { \u0026#34;properties\u0026#34;: { \u0026#34;name\u0026#34;: { \u0026#34;type\u0026#34;: \u0026#34;text\u0026#34; } } } } PUT后边紧跟的就是需要创建的索引名：my_locations。mappings中设置了一个属性 name，为 text类型。\n更新geo类型的mappings 新增两个字段，location字段类型为 geo_point，polygon字段类型为 geo_shape。\nPUT后边紧跟索引名 my_locations，加 _mapping表示在操作mappings。\nPUT /my_locations/_mapping { \u0026#34;properties\u0026#34;: { \u0026#34;name\u0026#34;: { \u0026#34;type\u0026#34;: \u0026#34;text\u0026#34; }, \u0026#34;location\u0026#34;: { \u0026#34;type\u0026#34;: \u0026#34;geo_point\u0026#34; }, \u0026#34;polygon\u0026#34;: { \u0026#34;type\u0026#34;: \u0026#34;geo_shape\u0026#34; } } } 查询修改后的索引 GET my_locations/_mapping { \u0026#34;my_locations\u0026#34;: \u0026#34;mappings\u0026#34;: \u0026#34;properties\u0026#34;: \u0026#34;location\u0026#34;: \u0026#34;type\u0026#34;: \u0026#34;geo_point\u0026#34; }, \u0026#34;name\u0026#34;: \u0026#34;type\u0026#34;: \u0026#34;text\u0026#34; }, \u0026#34;polygon\u0026#34;: \u0026#34;type\u0026#34;: \u0026#34;geo_shape\u0026#34; } } } } } 注意不要在请求体里的 body里填 {}，会报错。","title":"ElasticSearch Java API GEO操作（REST命令版）"},{"content":"前言 ElasticSearch Java API是ES官方在8.x版本推出的新java api，也可以适用于7.17.x版本的es。\n本文主要参考了相关博文，自己手动编写了下相关操作代码，包括更新mappings等操作的java代码。\n代码示例已上传github。\n版本 elasticsearch版本：7.17.9，修改 /elasticsearch-7.17.9/config/elasticsearch.yml，新增一行配置：xpack.security.enabled: false，避免提示 cerebro版本：0.8.5（浏览器连接es工具） jdk版本：11 elasticsearch-java版本： \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;co.elastic.clients\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;elasticsearch-java\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;7.17.9\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;com.fasterxml.jackson.core\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;jackson-databind\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;2.12.3\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; 连接 public static ElasticsearchClient getEsClient(String serverUrl) throws IOException { RestClient restClient = RestClient.builder(HttpHost.create(serverUrl)).build(); ElasticsearchTransport transport = new RestClientTransport(restClient, new JacksonJsonpMapper()); ElasticsearchClient esClient = new ElasticsearchClient(transport); log.info(\u0026#34;{}\u0026#34;, esClient.info()); return esClient; } 索引 创建索引 public static void createIndex(ElasticsearchClient esClient, String indexName) throws IOException { if (existsIndex(esClient, indexName)) { log.info(\u0026#34;index name: {} exists!\u0026#34;, indexName); } else { CreateIndexResponse response = esClient.indices().create(c -\u0026gt; c.index(indexName)); log.info(\u0026#34;create index name: {}, ack: {}\u0026#34;, indexName, response.acknowledged()); } } // 判断索引是否存在 public static boolean existsIndex(ElasticsearchClient esClient, String indexName) throws IOException { BooleanResponse exists = esClient.indices().exists(c -\u0026gt; c.index(indexName)); return exists.value(); } 查询索引 public static void getIndex(ElasticsearchClient esClient, String indexName) throws IOException { GetIndexResponse getIndexResponse = esClient.indices().get(s -\u0026gt; s.index(indexName)); Map\u0026lt;String, IndexState\u0026gt; result = getIndexResponse.result(); result.forEach((k, v) -\u0026gt; log.info(\u0026#34;get index key: {}, value= {}\u0026#34;, k, v)); // 查看全部索引 IndicesResponse indicesResponse = esClient.cat().indices(); indicesResponse.valueBody().forEach(i -\u0026gt; log.info(\u0026#34;get all index, health: {}, status: {}, uuid: {}\u0026#34;, i.health(), i.status(), i.uuid())); } 删除索引 public static void delIndex(ElasticsearchClient esClient, String indexName) throws IOException { if (existsIndex(esClient, indexName)) { log.info(\u0026#34;index: {} exists!\u0026#34;, indexName); DeleteIndexResponse deleteIndexResponse = esClient.indices().delete(s -\u0026gt; s.index(indexName)); log.info(\u0026#34;删除索引操作结果：{}\u0026#34;, deleteIndexResponse.acknowledged()); } else { log.info(\u0026#34;index: {} not found!\u0026#34;, indexName); } } 更新Mappings public static void updateMappings(ElasticsearchClient esClient, String indexName, Map\u0026lt;String, Property\u0026gt; documentMap) throws IOException { PutMappingRequest putMappingRequest = PutMappingRequest.of(m -\u0026gt; m.index(indexName).properties(documentMap)); PutMappingResponse putMappingResponse = esClient.indices().putMapping(putMappingRequest); boolean acknowledged = putMappingResponse.acknowledged(); log.info(\u0026#34;update mappings ack: {}\u0026#34;, acknowledged); } 使用更新Mappings方法 @Test public void updateMappingsTest() throws IOException { Map\u0026lt;String, Property\u0026gt; documentMap = new HashMap\u0026lt;\u0026gt;(); documentMap.put(\u0026#34;name\u0026#34;, Property.of(p -\u0026gt; p.text(TextProperty.of(t -\u0026gt; t.index(true))))); documentMap.put(\u0026#34;location\u0026#34;, Property.of(p -\u0026gt; p.geoPoint(GeoPointProperty.of(g -\u0026gt; g.ignoreZValue(true))))); // index 设置为 true，才可以使用 search range 功能 documentMap.put(\u0026#34;age\u0026#34;, Property.of(p -\u0026gt; p.integer(IntegerNumberProperty.of(i -\u0026gt; i.index(true))))); EsUtils.updateMappings(esClient, indexName, documentMap); } 文档操作 实体类 @Data public class Product { private String id; private String name; private String location; private Integer age; private String polygon; } 新增 public static void addOneDocument(ElasticsearchClient esClient, String indexName, Product product) throws IOException { IndexResponse indexResponse = esClient.index(i -\u0026gt; i.index(indexName).id(product.getId()).document(product)); log.info(\u0026#34;add one document result: {}\u0026#34;, indexResponse.result().jsonValue()); } 批量新增 public static void batchAddDocument(ElasticsearchClient esClient, String indexName, List\u0026lt;Product\u0026gt; products) throws IOException { List\u0026lt;BulkOperation\u0026gt; bulkOperations = new ArrayList\u0026lt;\u0026gt;(); products.forEach(p -\u0026gt; bulkOperations.add(BulkOperation.of(b -\u0026gt; b.index(c -\u0026gt; c.id(p.getId()).document(p))))); BulkResponse bulkResponse = esClient.bulk(s -\u0026gt; s.index(indexName).operations(bulkOperations)); bulkResponse.items().forEach(b -\u0026gt; log.info(\u0026#34;bulk response result = {}\u0026#34;, b.result())); log.error(\u0026#34;bulk response.error() = {}\u0026#34;, bulkResponse.errors()); } 查询 public static void getDocument(ElasticsearchClient esClient, String indexName, String id) throws IOException { GetResponse\u0026lt;Product\u0026gt; getResponse = esClient.get(s -\u0026gt; s.index(indexName).id(id), Product.class); if (getResponse.found()) { Product source = getResponse.source(); log.info(\u0026#34;get response: {}\u0026#34;, source); } // 判断文档是否存在 BooleanResponse booleanResponse = esClient.exists(s -\u0026gt; s.index(indexName).id(id)); log.info(\u0026#34;文档id:{},是否存在：{}\u0026#34;, id, booleanResponse.value()); } 更新 public static void updateDocument(ElasticsearchClient esClient, String indexName, Product product) throws IOException { UpdateResponse\u0026lt;Product\u0026gt; updateResponse = esClient.update(s -\u0026gt; s.index(indexName).id(product.getId()).doc(product), Product.class); log.info(\u0026#34;update doc result: {}\u0026#34;, updateResponse.result()); } 删除 public static void deleteDocument(ElasticsearchClient esClient, String indexName, String id) { try { DeleteResponse deleteResponse = esClient.delete(s -\u0026gt; s.index(indexName).id(id)); log.info(\u0026#34;del doc result: {}\u0026#34;, deleteResponse.result()); } catch (IOException e) { log.error(\u0026#34;del doc failed, error: \u0026#34;, e); } } 批量删除 public static void batchDeleteDocument(ElasticsearchClient esClient, String indexName, List\u0026lt;String\u0026gt; ids) { List\u0026lt;BulkOperation\u0026gt; bulkOperations = new ArrayList\u0026lt;\u0026gt;(); ids.forEach(a -\u0026gt; bulkOperations.add(BulkOperation.of(b -\u0026gt; b.delete(c -\u0026gt; c.id(a))))); try { BulkResponse bulkResponse = esClient.bulk(a -\u0026gt; a.index(indexName).operations(bulkOperations)); bulkResponse.items().forEach(a -\u0026gt; log.info(\u0026#34;batch del result: {}\u0026#34;, a.result())); log.error(\u0026#34;batch del bulk resp errors: {}\u0026#34;, bulkResponse.errors()); } catch (IOException e) { log.error(\u0026#34;batch del doc failed, error: \u0026#34;, e); } } 搜索 单个搜索 public static void searchOne(ElasticsearchClient esClient, String indexName, String searchText) throws IOException { SearchResponse\u0026lt;Product\u0026gt; searchResponse = esClient.search(s -\u0026gt; s .index(indexName) // 搜索请求的查询部分（搜索请求也可以有其他组件，如聚合） .query(q -\u0026gt; q // 在众多可用的查询变体中选择一个。我们在这里选择匹配查询（全文搜索） .match(t -\u0026gt; t .field(\u0026#34;name\u0026#34;) .query(searchText))), Product.class); TotalHits total = searchResponse.hits().total(); boolean isExactResult = total != null \u0026amp;\u0026amp; total.relation() == TotalHitsRelation.Eq; if (isExactResult) { log.info(\u0026#34;search has: {} results\u0026#34;, total.value()); } else { log.info(\u0026#34;search more than : {} results\u0026#34;, total.value()); } List\u0026lt;Hit\u0026lt;Product\u0026gt;\u0026gt; hits = searchResponse.hits().hits(); for (Hit\u0026lt;Product\u0026gt; hit : hits) { Product source = hit.source(); log.info(\u0026#34;Found result: {}\u0026#34;, source); } } 分页搜索 public static void searchPage(ElasticsearchClient esClient, String indexName, String searchText) throws IOException { Query query = RangeQuery.of(r -\u0026gt; r .field(\u0026#34;age\u0026#34;) .gte(JsonData.of(8))) ._toQuery(); SearchResponse\u0026lt;Product\u0026gt; searchResponse = esClient.search(s -\u0026gt; s .index(indexName) .query(q -\u0026gt; q .bool(b -\u0026gt; b.must(query))) // 分页查询，从第0页开始查询四个doc .from(0) .size(4) // 按id降序排列 .sort(f -\u0026gt; f .field(o -\u0026gt; o .field(\u0026#34;age\u0026#34;).order(SortOrder.Desc))), Product.class); List\u0026lt;Hit\u0026lt;Product\u0026gt;\u0026gt; hits = searchResponse.hits().hits(); for (Hit\u0026lt;Product\u0026gt; hit : hits) { Product product = hit.source(); log.info(\u0026#34;search page result: {}\u0026#34;, product); } } 参考 ElasticSearch官方文档 Elasticsearch Java API Client 俊逸的博客(ElasticSearchx系列) Elasticsearch Java API 客户端(中文文档) ","permalink":"https://kingstar718.github.io/posts/elasticsearch-java-api-base-code/","summary":"前言 ElasticSearch Java API是ES官方在8.x版本推出的新java api，也可以适用于7.17.x版本的es。\n本文主要参考了相关博文，自己手动编写了下相关操作代码，包括更新mappings等操作的java代码。\n代码示例已上传github。\n版本 elasticsearch版本：7.17.9，修改 /elasticsearch-7.17.9/config/elasticsearch.yml，新增一行配置：xpack.security.enabled: false，避免提示 cerebro版本：0.8.5（浏览器连接es工具） jdk版本：11 elasticsearch-java版本： \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;co.elastic.clients\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;elasticsearch-java\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;7.17.9\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;com.fasterxml.jackson.core\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;jackson-databind\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;2.12.3\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; 连接 public static ElasticsearchClient getEsClient(String serverUrl) throws IOException { RestClient restClient = RestClient.builder(HttpHost.create(serverUrl)).build(); ElasticsearchTransport transport = new RestClientTransport(restClient, new JacksonJsonpMapper()); ElasticsearchClient esClient = new ElasticsearchClient(transport); log.info(\u0026#34;{}\u0026#34;, esClient.info()); return esClient; } 索引 创建索引 public static void createIndex(ElasticsearchClient esClient, String indexName) throws IOException { if (existsIndex(esClient, indexName)) { log.","title":"ElasticSearch Java API 基本操作"},{"content":"起因 因业务需求，项目中引入了一个对方的业务jar包，但是发现代码却启动不起来了，报错：\norg.springframework.beans.PropertyBatchUpdateException; nested PropertyAccessExceptions (1) are: PropertyAccessException 1: org.springframework.beans.MethodInvocationException: Property \u0026#39;locations\u0026#39; threw exception; nested exception is java.lang.IllegalArgumentException: NTFS ADS separator (\u0026#39;:\u0026#39;) in file name is forbidden. 尽管本地环境（windows）启动不起来，但是打包后放入Linux容器中是正常运行的。\n随即进入debug分析，定位异常位置，发现是在使用 disconf的jar中会调用到 commons-io的 FilenameUtils的 getExtension方法，来获取一个文件的后缀，具体调用如下：\nString extension = FilenameUtils.getExtension(fileName); 比如 fileName为log4j2.xml，方法返回的就是 xml。\n由于业务方引入的jar包中包含的commons-io的2.8.0的新包，IDEA启动时默认会使用该包，实际上原项目commons-io使用的是2.5版本。\n分析 disconf使用的是 org.apache.commons.io下的 FilenameUtils，我们先看下2.5版本的实现：\npublic static String getExtension(final String filename) { if (filename == null) { return null; } final int index = indexOfExtension(filename); if (index == NOT_FOUND) { return \u0026#34;\u0026#34;; } else { return filename.substring(index + 1); } } 关注下indexOfExtension的实现：\npublic static int indexOfExtension(final String filename) { if (filename == null) { return NOT_FOUND; } final int extensionPos = filename.lastIndexOf(EXTENSION_SEPARATOR); final int lastSeparator = indexOfLastSeparator(filename); return lastSeparator \u0026gt; extensionPos ? NOT_FOUND : extensionPos; } 而2.8.0的commons-io的实现如下：\npublic static String getExtension(final String fileName) throws IllegalArgumentException { if (fileName == null) { return null; } final int index = indexOfExtension(fileName); if (index == NOT_FOUND) { return EMPTY_STRING; } return fileName.substring(index + 1); } public static int indexOfExtension(final String fileName) throws IllegalArgumentException { if (fileName == null) { return NOT_FOUND; } if (isSystemWindows()) { // Special handling for NTFS ADS: Don\u0026#39;t accept colon in the fileName. final int offset = fileName.indexOf(\u0026#39;:\u0026#39;, getAdsCriticalOffset(fileName)); if (offset != -1) { throw new IllegalArgumentException(\u0026#34;NTFS ADS separator (\u0026#39;:\u0026#39;) in file name is forbidden.\u0026#34;); } } final int extensionPos = fileName.lastIndexOf(EXTENSION_SEPARATOR); final int lastSeparator = indexOfLastSeparator(fileName); return lastSeparator \u0026gt; extensionPos ? NOT_FOUND : extensionPos; } 问题就出在这里，方法多了一个 IllegalArgumentException异常，并且是特定在windows环境下才抛出 NTFS ADS separator (':') in file name is forbidden.，这也就解释了为什么服务打包后在Linux环境下没有问题。\n该方法的注释上也写了为什么会做这个改变：\n\u0026lt;b\u0026gt;Note:\u0026lt;/b\u0026gt; This method used to have a hidden problem for names like \u0026ldquo;foo.exe:bar.txt\u0026rdquo;. In this case, the name wouldn\u0026rsquo;t be the name of a file, but the identifier of an alternate data stream (bar.txt) on the file foo.exe. The method used to return \u0026ldquo;.txt\u0026rdquo; here, which would be misleading. Commons IO 2.7, and later versions, are throwing an {@link IllegalArgumentException} for names like this.\n翻译过来就是，在windows上类似 foo.exe:bar.txt的文件，bar.txt不是文件的名称，而是文件 foo.exe上的备用数据流 bar.txt的标识符。\nNTFS中的备用数据流（Alternate Data Stream，ADS）允许将一些元数据嵌入文件或是目录，而不需要修改其原始功能或内容。\n这个改动刚好是 commons-io的2.7版本，命中了项目因为引入业务jar包导致的2.5-\u0026gt;2.8.0的升级迭代。\n解决 后续决定还是在业务jar中移除commons-io的2.8.0版本，沿用之前项目中的2.5版本。\n总结 项目使用 disconf来监听配置文件的变更，实际上传入的是类似 classpath:log4j2.xml这样的fileName，导致的问题。\n项目初步启动时，直接报错的堆栈中并没有关于 commons-io的堆栈信息，只知道是 disconf的bean无法启动，可以先从这个bean入手，逐步定位到是 com.baidu.disconf.client.addons.properties.ReloadablePropertiesFactoryBean成员变量 locations的问题，进而从 setLocations这个方法定位到使用了 FilenameUtils中的 getExtension，从而得知是哪里的异常。\n进而直接使用 Dependency Analyzer，看到业务jar包引入了更新版本的 commons-io，并通过对比两个版本的 FilenameUtils的 getExtension方法的区别，了解本次异常的原因。\n这是一次较为常见的组件变动引起的启动异常，但是实际上问题的表征并不能直接定位原因，合理利用debug，在项目启动时，添加断点，逐步分析，是开发者需要掌握的技能。\n这个问题直接搜索是不太能得到答案的，但是分析问题的过程，是初学者逐步向熟练者进阶的必备技能，特此记录，以作参考。\n参考 NTFS ADS（备用数据流） ","permalink":"https://kingstar718.github.io/posts/commons-io-version-in-windows-bug/","summary":"起因 因业务需求，项目中引入了一个对方的业务jar包，但是发现代码却启动不起来了，报错：\norg.springframework.beans.PropertyBatchUpdateException; nested PropertyAccessExceptions (1) are: PropertyAccessException 1: org.springframework.beans.MethodInvocationException: Property \u0026#39;locations\u0026#39; threw exception; nested exception is java.lang.IllegalArgumentException: NTFS ADS separator (\u0026#39;:\u0026#39;) in file name is forbidden. 尽管本地环境（windows）启动不起来，但是打包后放入Linux容器中是正常运行的。\n随即进入debug分析，定位异常位置，发现是在使用 disconf的jar中会调用到 commons-io的 FilenameUtils的 getExtension方法，来获取一个文件的后缀，具体调用如下：\nString extension = FilenameUtils.getExtension(fileName); 比如 fileName为log4j2.xml，方法返回的就是 xml。\n由于业务方引入的jar包中包含的commons-io的2.8.0的新包，IDEA启动时默认会使用该包，实际上原项目commons-io使用的是2.5版本。\n分析 disconf使用的是 org.apache.commons.io下的 FilenameUtils，我们先看下2.5版本的实现：\npublic static String getExtension(final String filename) { if (filename == null) { return null; } final int index = indexOfExtension(filename); if (index == NOT_FOUND) { return \u0026#34;\u0026#34;; } else { return filename.","title":"win下commons-io升级导致NTFS ADS separator问题"},{"content":"blog-test\n你好世界 科学 发展 拼单 这是一个引用。\nwode ","permalink":"https://kingstar718.github.io/posts/blog-test/","summary":"blog-test\n你好世界 科学 发展 拼单 这是一个引用。\nwode ","title":"blog-test"},{"content":"Hugo is a static site generator written in Go. Originally created by Steve Francia in 2013, Hugo has seen a great increase in both features and performance thanks to current lead developer Bjørn Erik Pedersen (since v0.14 in 2015[4]) and other contributors. Hugo is an open source project licensed under the Apache License 2.0.[5]\nBeing able to generate most websites within seconds (at \u0026lt; 1 ms per page), Hugo\u0026rsquo;s official website states it is \u0026ldquo;the world’s fastest framework for building websites\u0026rdquo;. In July 2015, Netlify began providing Hugo hosting,[6] and in 2017, Smashing Magazine completed its redesign of their website, migrating from WordPress to a JAMstack solution with Hugo.[7]\nSource: https://en.wikipedia.org/wiki/Hugo_(software)\nLicense: CC-BY-SA 3.0\n","permalink":"https://kingstar718.github.io/essays/what-is-hugo/","summary":"\u003cp\u003eHugo is a static site generator written in Go. Originally created by Steve Francia in 2013, Hugo has seen a great increase in both features and performance thanks to current lead developer Bjørn Erik Pedersen (since v0.14 in 2015[4]) and other contributors. Hugo is an open source project licensed under the Apache License 2.0.[5]\u003c/p\u003e","title":"What Is Hugo"},{"content":"这里是陆上江南的个人博客 ","permalink":"https://kingstar718.github.io/about/","summary":"这里是陆上江南的个人博客 ","title":"About"},{"content":"This article offers a sample of basic Markdown syntax that can be used in Hugo content files, also it shows whether basic HTML elements are decorated with CSS in a Hugo theme.\nHeadings The following HTML \u0026lt;h1\u0026gt;—\u0026lt;h6\u0026gt; elements represent six levels of section headings. \u0026lt;h1\u0026gt; is the highest section level while \u0026lt;h6\u0026gt; is the lowest.\nH1 H2 H3 H4 H5 H6 Paragraph Xerum, quo qui aut unt expliquam qui dolut labo. Aque venitatiusda cum, voluptionse latur sitiae dolessi aut parist aut dollo enim qui voluptate ma dolestendit peritin re plis aut quas inctum laceat est volestemque commosa as cus endigna tectur, offic to cor sequas etum rerum idem sintibus eiur? Quianimin porecus evelectur, cum que nis nust voloribus ratem aut omnimi, sitatur? Quiatem. Nam, omnis sum am facea corem alique molestrunt et eos evelece arcillit ut aut eos eos nus, sin conecerem erum fuga. Ri oditatquam, ad quibus unda veliamenimin cusam et facea ipsamus es exerum sitate dolores editium rerore eost, temped molorro ratiae volorro te reribus dolorer sperchicium faceata tiustia prat.\nItatur? Quiatae cullecum rem ent aut odis in re eossequodi nonsequ idebis ne sapicia is sinveli squiatum, core et que aut hariosam ex eat.\nBlockquotes The blockquote element represents content that is quoted from another source, optionally with a citation which must be within a footer or cite element, and optionally with in-line changes such as annotations and abbreviations.\nBlockquote without attribution Tiam, ad mint andaepu dandae nostion secatur sequo quae. Note that you can use Markdown syntax within a blockquote.\nBlockquote with attribution Don\u0026rsquo;t communicate by sharing memory, share memory by communicating.\n— Rob Pike1\nTables Tables aren\u0026rsquo;t part of the core Markdown spec, but Hugo supports them out-of-the-box.\nName Age Bob 27 Alice 23 Inline Markdown within tables Italics Bold Code italics bold code Code Blocks Inline Code This is Inline Code\nOnly pre This is pre text Code block with backticks \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;utf-8\u0026#34; /\u0026gt; \u0026lt;title\u0026gt;Example HTML5 Document\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;p\u0026gt;Test\u0026lt;/p\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; Code block with backticks and language specified 1 2 3 4 5 6 7 8 9 10 11 \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;utf-8\u0026#34; /\u0026gt; \u0026lt;title\u0026gt;Example HTML5 Document\u0026lt;/title\u0026gt; \u0026lt;meta name=\u0026#34;description\u0026#34; content=\u0026#34;Sample article showcasing basic Markdown syntax and formatting for HTML elements.\u0026#34;\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;p\u0026gt;Test\u0026lt;/p\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; Code block indented with four spaces \u0026lt;!doctype html\u0026gt; \u0026lt;html lang=\u0026quot;en\u0026quot;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026quot;utf-8\u0026quot;\u0026gt; \u0026lt;title\u0026gt;Example HTML5 Document\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;p\u0026gt;Test\u0026lt;/p\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; Code block with Hugo\u0026rsquo;s internal highlight shortcode \u0026lt;!doctype html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;utf-8\u0026#34;\u0026gt; \u0026lt;title\u0026gt;Example HTML5 Document\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;p\u0026gt;Test\u0026lt;/p\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; Gist List Types Ordered List First item Second item Third item Unordered List List item Another item And another item Nested list Fruit Apple Orange Banana Dairy Milk Cheese Other Elements — abbr, sub, sup, kbd, mark GIF is a bitmap image format.\nH2O\nXn + Yn = Zn\nPress CTRL+ALT+Delete to end the session.\nMost salamanders are nocturnal, and hunt for insects, worms, and other small creatures.\nThe above quote is excerpted from Rob Pike\u0026rsquo;s talk during Gopherfest, November 18, 2015.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","permalink":"https://kingstar718.github.io/posts/markdown-syntax/","summary":"\u003cp\u003eThis article offers a sample of basic Markdown syntax that can be used in Hugo content files, also it shows whether basic HTML elements are decorated with CSS in a Hugo theme.\u003c/p\u003e","title":"Markdown Syntax Guide"},{"content":"Hugo ships with several Built-in Shortcodes for rich content, along with a Privacy Config and a set of Simple Shortcodes that enable static and no-JS versions of various social media embeds.\nYouTube Privacy Enhanced Shortcode Twitter Simple Shortcode “In addition to being more logical, asymmetry has the advantage that its complete appearance is far more optically effective than symmetry.”\n— Jan Tschichold pic.twitter.com/gcv7SrhvJb\n\u0026mdash; Design Reviewed | Graphic Design History (@DesignReviewed) January 17, 2019 Vimeo Simple Shortcode ","permalink":"https://kingstar718.github.io/posts/rich-content/","summary":"\u003cp\u003eHugo ships with several \u003ca href=\"https://gohugo.io/content-management/shortcodes/#use-hugos-built-in-shortcodes\"\u003eBuilt-in Shortcodes\u003c/a\u003e for rich content, along with a \u003ca href=\"https://gohugo.io/about/hugo-and-gdpr/\"\u003ePrivacy Config\u003c/a\u003e and a set of Simple Shortcodes that enable static and no-JS versions of various social media embeds.\u003c/p\u003e","title":"Rich Content"},{"content":"Mathematical notation in a Hugo project can be enabled by using third party JavaScript libraries.\nIn this example we will be using KaTeX\nCreate a partial under /layouts/partials/math.html Within this partial reference the Auto-render Extension or host these scripts locally. Include the partial in your templates (extend_head.html) like so: refer ISSUE #236 {{ if or .Params.math .Site.Params.math }} {{ partial \u0026#34;math.html\u0026#34; . }} {{ end }} To enable KaTex globally set the parameter math to true in a project\u0026rsquo;s configuration To enable KaTex on a per page basis include the parameter math: true in content files Note: Use the online reference of Supported TeX Functions\nExamples Inline math: \\(\\varphi = \\dfrac{1+\\sqrt5}{2}= 1.6180339887…\\) Block math:\n$$ \\varphi = 1+\\frac{1} {1+\\frac{1} {1+\\frac{1} {1+\\cdots} } } $$\n","permalink":"https://kingstar718.github.io/posts/math-typesetting/","summary":"\u003cp\u003eMathematical notation in a Hugo project can be enabled by using third party JavaScript libraries.\u003c/p\u003e","title":"Math Typesetting"},{"content":"Emoji can be enabled in a Hugo project in a number of ways.\nThe emojify function can be called directly in templates or Inline Shortcodes.\nTo enable emoji globally, set enableEmoji to true in your site\u0026rsquo;s configuration and then you can type emoji shorthand codes directly in content files; e.g.\n🙈 🙈 🙉 🙉 🙊 🙊\nThe Emoji cheat sheet is a useful reference for emoji shorthand codes.\nN.B. The above steps enable Unicode Standard emoji characters and sequences in Hugo, however the rendering of these glyphs depends on the browser and the platform. To style the emoji you can either use a third party emoji font or a font stack; e.g.\n.emoji { font-family: Apple Color Emoji, Segoe UI Emoji, NotoColorEmoji, Segoe UI Symbol, Android Emoji, EmojiSymbols; } ","permalink":"https://kingstar718.github.io/posts/emoji-support/","summary":"\u003cp\u003eEmoji can be enabled in a Hugo project in a number of ways.\u003c/p\u003e","title":"Emoji Support"}]